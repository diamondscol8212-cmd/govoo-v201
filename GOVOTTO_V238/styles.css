/* --- MOTOR GR√ÅFICO V184 (BASE) --- */
:root { --bg-deep: #050505; --primary: #D4AF37; --accent: #00ffff; --risk: #FF0044; --terminal: #00ff41; --btc: #F7931A; }
* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; user-select: none; }

body { 
    background-color: #050505;
    background-image: 
        radial-gradient(at 50% 50%, rgba(0, 255, 255, 0.03) 0%, transparent 70%),
        linear-gradient(0deg, rgba(0,0,0,0.2) 50%, transparent 50%);
    background-size: 100% 100%, 100% 4px; 
    color: #fff; font-family: 'Outfit', sans-serif; margin: 0; padding: 0; 
    width: 100vw; height: 100dvh; overflow: hidden; display: flex; justify-content: center; align-items: center; 
}

#app-frame { 
    width: 100%; height: 100%; max-width: 480px; 
    background: #0a0a0a; 
    position: relative; display: flex; flex-direction: column; overflow: hidden; 
    border: 1px solid #333;
    transform: translate3d(0,0,0); 
    box-shadow: 0 0 50px rgba(0,0,0,0.8);
    z-index: 10; 
}
@media (min-width: 500px) { #app-frame { height: 95dvh; border-radius: 20px; border: 1px solid #444; } }

.hidden { display: none !important; } 

.flex-show { display: flex !important; visibility: visible !important; pointer-events: auto !important; opacity: 1 !important; z-index: 70000 !important; }

@keyframes stressPulse { 0% { box-shadow: inset 0 0 0 red; border-color: #000; } 50% { box-shadow: inset 0 0 20px red; border-color: red; } 100% { box-shadow: inset 0 0 0 red; border-color: #000; } }
@keyframes stressShake { 0% { transform: translate(1px, 1px) rotate(0deg); } 10% { transform: translate(-1px, -2px) rotate(-1deg); } 20% { transform: translate(-3px, 0px) rotate(1deg); } 30% { transform: translate(3px, 2px) rotate(0deg); } 40% { transform: translate(1px, -1px) rotate(1deg); } 50% { transform: translate(-1px, 2px) rotate(-1deg); } 60% { transform: translate(-3px, 1px) rotate(0deg); } 70% { transform: translate(3px, 1px) rotate(-1deg); } 80% { transform: translate(-1px, -1px) rotate(1deg); } 90% { transform: translate(1px, 2px) rotate(0deg); } 100% { transform: translate(1px, -2px) rotate(-1deg); } }
@keyframes heartBeatScale { 0% { transform: scale(1); } 15% { transform: scale(1.15); } 30% { transform: scale(1); } 45% { transform: scale(1.15); } 60% { transform: scale(1); } 100% { transform: scale(1); } }

.stress-alert { animation: stressPulse 0.5s infinite; border: 2px solid transparent; }
.stress-critical { animation: stressShake 0.5s infinite, stressPulse 0.2s infinite; }
.heart-throb { animation: heartBeatScale 1.2s infinite; } 
.heart-throb-fast { animation: heartBeatScale 0.6s infinite; }

.cyber-node { width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; position: relative; }
.cyber-ring { position: absolute; width: 100%; height: 100%; border: 2px dashed var(--terminal); border-radius: 50%; animation: spin 3s linear infinite; }
.cyber-arrow { color: var(--terminal); font-size: 1.2rem; filter: drop-shadow(0 0 5px var(--terminal)); }
.node-active-cyber { background: #001100; border-color: var(--terminal) !important; box-shadow: 0 0 20px rgba(0, 255, 65, 0.4); transform: scale(1.15); z-index: 100; }

.hex-coin-display {
    width: 40px; height: 45px;
    background: #111;
    clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
    display: flex; justify-content: center; align-items: center;
    border: 1px solid var(--primary);
    box-shadow: 0 0 15px rgba(255, 215, 0, 0.4);
    animation: float 3s ease-in-out infinite;
}
.hex-coin-display span { color: var(--primary); font-weight: 900; font-size: 18px; }
@keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-3px); } }

.coin-visual { 
    position: absolute; width: 30px; height: 30px; 
    background: linear-gradient(135deg, #00ffff, #0088ff);
    clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
    box-shadow: 0 0 15px #00ffff; 
    z-index: 20000; pointer-events: none; 
    display: flex; align-items: center; justify-content: center; 
    font-size: 14px; font-weight: 900; color: #000; 
    animation: flyAndSpin 1.2s forwards ease-out; 
}
.coin-visual::after { content: ''; } 
@keyframes flyAndSpin { 0% { transform: translateY(0) rotate(0deg) scale(0.5); opacity: 0; } 10% { opacity: 1; transform: translateY(-20px) rotate(180deg) scale(1); } 100% { transform: translateY(-300px) rotate(720deg) scale(1.2); opacity: 0; } }

#intro-layer { position: absolute; inset: 0; z-index: 21000; background: #000; display: none; flex-direction: column; align-items: center; justify-content: center; overflow: hidden; }
.scanline { position: absolute; inset: 0; pointer-events: none; background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06)); background-size: 100% 2px, 3px 100%; z-index: 2; opacity: 0.6; }
.intro-logo-box { position: relative; z-index: 10; text-align: center; animation: introFadeIn 0.8s ease-out forwards; }
.intro-title { font-size: 3.5rem; font-weight: 900; font-style: italic; color: #fff; letter-spacing: -2px; line-height: 1; text-shadow: 0 0 20px rgba(255, 255, 255, 0.2); transform: scale(0.9); transition: text-shadow 0.2s; }
.intro-title span { color: #D4AF37; text-shadow: 0 0 30px rgba(212, 175, 55, 0.6); }
.intro-sub { font-family: 'JetBrains Mono', monospace; color: #444; font-size: 0.7rem; letter-spacing: 4px; margin-top: 10px; text-transform: uppercase; opacity: 0; animation: slideUp 0.5s ease-out 0.5s forwards; }
.loader-bar-box { width: 150px; height: 2px; background: #222; margin-top: 30px; position: relative; overflow: hidden; border-radius: 2px; opacity: 0; animation: fadeIn 0.5s ease-out 0.8s forwards; }
.loader-fill { position: absolute; left: 0; top: 0; height: 100%; width: 0%; background: #D4AF37; box-shadow: 0 0 10px #D4AF37; }
@keyframes introFadeIn { from { opacity: 0; transform: scale(1.2); filter: blur(10px); } to { opacity: 1; transform: scale(1); filter: blur(0); } }
@keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
@keyframes fadeIn { to { opacity: 1; } }

#boot-screen { position: absolute; inset: 0; z-index: 22000; background: #000; display: flex; flex-direction: column; align-items: center; justify-content: center; }

.hud-header { height: 60px; background: #000; border-bottom: 1px solid #222; display: flex; align-items: center; justify-content: space-between; padding: 0 20px; flex-shrink: 0; z-index: 6000; position: relative; }
.ticker-wrap { height: 28px; background: #000; border-bottom: 1px solid #222; overflow: hidden; display: flex; align-items: center; flex-shrink: 0; }
.ticker { white-space: nowrap; animation: ticker 40s linear infinite; }
.ticker-item { display: inline-block; padding: 0 1rem; font-family: 'JetBrains Mono'; font-size: 9px; color: var(--terminal); font-weight: 700; }
@keyframes ticker { 0% { transform: translateX(0); } 100% { transform: translateX(-100%); } }
.brand-logo { font-weight: 900; font-style: italic; font-size: 1.2rem; }
.brand-logo span { color: var(--primary); }
.hud-controls { display: flex; gap: 10px; align-items: center; z-index: 50; position: relative; }
.flash-btn { background: var(--risk); color: white; border-radius: 20px; padding: 5px 10px; font-size: 10px; font-weight: 900; display: flex; align-items: center; gap: 5px; cursor: pointer; border: 1px solid white; transition: transform 0.1s; pointer-events: auto; }
.flash-btn:active { transform: scale(0.95); }
.rank-btn { width: 35px; height: 35px; border-radius: 50%; background: #222; border: 1px solid var(--primary); color: var(--primary); display: flex; align-items: center; justify-content: center; cursor: pointer; pointer-events: auto; }

/* ==========================================
   üñ•Ô∏è MAPA: PROTOCOLO DANTE (HOLOGR√ÅFICO)
   ========================================== */
.content-area { flex: 1; position: relative; overflow: hidden; display: flex; flex-direction: column; align-items: center; width: 100%; z-index: 10; }

.map-layer { 
    display: none; width: 100%; height: 100%; overflow-y: auto; flex-direction: column; align-items: center; 
    padding-top: 60px; padding-bottom: 150px; scrollbar-width: none; 
    background-color: #050505;
    background-image: 
        radial-gradient(circle at 50% 50%, rgba(0, 255, 255, 0.03) 0%, transparent 60%), 
        linear-gradient(0deg, rgba(0,255,255,0.03) 1px, transparent 1px), 
        linear-gradient(90deg, rgba(0,255,255,0.03) 1px, transparent 1px); 
    background-size: 100% 100%, 30px 30px, 30px 30px;
}

/* Contenedores de Nodos en Zig-Zag */
.node-wrapper { 
    display: flex; flex-direction: column; align-items: center; 
    height: 100px; 
    margin: 0 !important; 
    position: relative; width: 100%; flex-shrink: 0; pointer-events: none; 
}
.node-wrapper:nth-child(4n+1) { transform: translateX(0); }         
.node-wrapper:nth-child(4n+2) { transform: translateX(55px); }    
.node-wrapper:nth-child(4n+3) { transform: translateX(0); }         
.node-wrapper:nth-child(4n+4) { transform: translateX(-55px); }    

/* ‚¨° BASE DE NODOS (Silenciados / Apagados) */
.node { 
    width: 65px; height: 75px; 
    margin-top: 37.5px; 
    position: relative; display: flex; align-items: center; justify-content: center; 
    font-size: 1.4rem; cursor: pointer; color: #333; 
    z-index: 11; transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); pointer-events: auto; 
}

.node::before {
    content: ''; position: absolute; inset: 0;
    background: #111; 
    clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
    z-index: -2; transition: all 0.4s ease;
}
.node::after {
    content: ''; position: absolute; inset: 2px;
    background: linear-gradient(135deg, #0a0a0a, #050505);
    clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
    z-index: -1; transition: all 0.4s ease;
}

/* --- 1. COMPLETADO (Ceniza Digital y Oro Fantasma) --- */
.node-done { color: rgba(212, 175, 55, 0.3); text-shadow: 0 0 5px rgba(212, 175, 55, 0.1); }
.node-done::before { background: rgba(10,10,10,0.8); }
.node-done::after { background: #020202; box-shadow: inset 0 0 15px rgba(0,0,0,1); }

/* --- 2. ACTIVO (Ret√≠cula Hologr√°fica de Fijaci√≥n Cu√°ntica) --- */
.node-active, .node-active-cyber { 
    color: #fff; text-shadow: 0 0 10px var(--accent); 
    transform: scale(1.1); 
    animation: holoFloat 3s infinite ease-in-out; 
}

.node-active::before, .node-active-cyber::before { 
    clip-path: none; inset: -12px; border-radius: 50%; 
    background: transparent; 
    border: 1px dashed rgba(0, 255, 255, 0.4);
    border-top: 2px solid var(--accent); 
    border-bottom: 2px solid var(--accent);
    animation: spinTarget 4s linear infinite;
}
.node-active::after, .node-active-cyber::after { 
    background: rgba(0, 20, 20, 0.85); backdrop-filter: blur(5px);
    border: 1px solid var(--accent);
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.3), inset 0 0 15px rgba(0, 255, 255, 0.2);
}

.node-bomb.node-active::before { border-color: rgba(255,0,68,0.4); border-top-color: var(--risk); border-bottom-color: var(--risk); animation: spinTarget 2s linear infinite; }
.node-bomb.node-active::after { background: rgba(20,0,0,0.85); border-color: var(--risk); box-shadow: 0 0 25px rgba(255,0,68,0.3), inset 0 0 15px rgba(255,0,68,0.2); }
.node-bomb.node-active { color: #fff; text-shadow: 0 0 10px var(--risk); }

.node-fire.node-active::before { border-color: rgba(255,85,0,0.4); border-top-color: #ff5500; border-bottom-color: #ff5500; animation: spinTarget 3s linear infinite reverse; }
.node-fire.node-active::after { background: rgba(20,5,0,0.85); border-color: #ff5500; box-shadow: 0 0 25px rgba(255,85,0,0.3), inset 0 0 15px rgba(255,85,0,0.2); }
.node-fire.node-active { color: #fff; text-shadow: 0 0 10px #ffaa00; }

.node-camera.node-active::before { background: linear-gradient(0deg, #111 30%, #00ffff 50%, #111 70%); background-size: 100% 300%; animation: laserScan 0.8s linear infinite; }

@keyframes spinTarget { 100% { transform: rotate(360deg); } }
@keyframes holoFloat { 0%, 100% { transform: translateY(0) scale(1.1); filter: brightness(1); } 50% { transform: translateY(-6px) scale(1.1); filter: brightness(1.3); } }

.node-name { 
    position: absolute; bottom: -28px; width: 140px; text-align: center; 
    font-size: 0.65rem; font-family: 'JetBrains Mono', monospace; font-weight: 900; 
    color: #333; letter-spacing: 2px; text-transform: uppercase; 
}
.node-active .node-name { color: var(--accent); text-shadow: 0 0 8px var(--accent); }

/* --- SISTEMA DE DAEMONS (Mascotas Hologr√°ficas) --- */
.mascot-portrait-container { position: absolute; left: 50%; top: -60px; transform: translateX(-50%); width: 60px; height: 60px; z-index: 101; pointer-events: none; animation: floatDaemon 3s infinite ease-in-out; }
@keyframes floatDaemon { 0%, 100% { transform: translateX(-50%) translateY(0); } 50% { transform: translateX(-50%) translateY(-8px); } }

.mascot-portrait { 
    width: 100%; height: 100%; 
    clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%); 
    background: rgba(0, 255, 255, 0.1); border: 2px solid var(--accent); 
    box-shadow: 0 0 20px rgba(0,255,255,0.3); display: flex; align-items: center; justify-content: center; backdrop-filter: blur(2px);
}
.holo-icon { font-size: 30px; color: var(--accent); filter: drop-shadow(0 0 8px var(--accent)); animation: flicker 2s infinite; }
.mascot-accessory-mini { position: absolute; bottom: -5px; right: -5px; width: 20px; height: 20px; background: #000; border-radius: 50%; border: 1px solid var(--terminal); z-index: 102; }

/* --- BATALLA --- */
.battle-overlay { position: absolute; inset: 0; z-index: 500; background: #000; display: none; flex-direction: column; align-items: center; padding: 60px 0 0 0; }
.ab-container { display: flex; flex-direction: column; width: 100%; height: 100%; position: relative; }

.option-panel { flex: 1; width: 100%; position: relative; cursor: pointer; overflow: hidden; border-bottom: 2px solid #000; pointer-events: auto !important; z-index: 50 !important; }

.option-img, .tinder-img { width: 100%; height: 100%; object-fit: cover; filter: grayscale(100%) sepia(20%) hue-rotate(180deg) brightness(0.7) contrast(1.2); transition: all 0.3s ease; }
.option-panel:hover .option-img { filter: grayscale(0%) brightness(1) contrast(1); }
.option-panel:active .option-img { transform: scale(0.95); }

.option-overlay { position: absolute; inset: 0; display: flex; flex-direction: column; justify-content: center; align-items: center; background: rgba(0,0,0,0.2); pointer-events: none; transition: 0.3s; z-index: 60; }
.option-title { font-size: 2rem; font-weight: 900; color: white; text-transform: uppercase; font-style: italic; text-shadow: 0 5px 15px rgba(0,0,0,0.8); letter-spacing: -1px; }

.vs-badge { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 50px; height: 50px; background: var(--risk); border: 3px solid white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 900; color: white; font-size: 1.2rem; z-index: 100; box-shadow: 0 0 20px rgba(0,0,0,0.8); pointer-events: none; }

/* --- BOMB MODE --- */
#bomb-view { background: radial-gradient(circle, #220000 0%, #000 100%); }
.bomb-timer-box { width: 80%; height: 20px; background: #333; border: 1px solid #555; border-radius: 10px; margin-bottom: 20px; overflow: hidden; position: relative; box-shadow: 0 0 15px var(--risk); }
.bomb-fill { height: 100%; background: var(--risk); width: 100%; transition: width 1s linear; }
.bomb-icon { font-size: 3rem; color: var(--risk); margin-bottom: 10px; animation: shake 0.5s infinite; }

/* --- FIRE MODE --- */
#fire-view { background: radial-gradient(circle at center, #2a0000 0%, #000 100%); display: flex; flex-direction: column; align-items: center; justify-content: flex-start; padding-top: 40px !important; }
.fire-stage { width: 150px; height: 150px; position: relative; display: flex; justify-content: center; align-items: flex-end; margin: 30px 0; filter: drop-shadow(0 0 20px #ff4400); }
.flame-core { width: 80px; height: 80px; background: linear-gradient(-45deg, #ff4400, #ffcc00); border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%; transform: rotate(-45deg) scale(1); animation: flicker 0.1s infinite alternate; box-shadow: 0 0 40px #ff4400; position: relative; transition: all 0.5s ease; }
.fire-win .flame-core { background: linear-gradient(-45deg, #0088ff, #00ffff); box-shadow: 0 0 60px #0088ff; filter: brightness(1.5); transform: rotate(-45deg) scale(1.3); }
.fire-loss .flame-core { background: #333; box-shadow: none; transform: rotate(-45deg) scale(0.2); opacity: 0.5; }
@keyframes flicker { 0% { transform: rotate(-45deg) scale(1); opacity: 1; } 100% { transform: rotate(-44deg) scale(1.05); opacity: 0.9; } }

.fire-msg-overlay { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 100%; text-align: center; font-size: 3rem; font-weight: 900; font-style: italic; z-index: 50; opacity: 0; pointer-events: none; transition: all 0.3s ease; text-shadow: 0 0 20px black; }
.f-win-text { color: #00ffff; text-shadow: 0 0 30px #0088ff; } 
.f-loss-text { color: #555; text-shadow: 0 0 20px #000; } 
.show-fire-msg { opacity: 1; transform: translate(-50%, -50%) scale(1.1); }

/* GRID & TITLES */
.grid-box { display: grid !important; grid-template-columns: repeat(2, 1fr) !important; gap: 15px; width: 100%; max-width: 380px; padding: 10px; margin: 0 auto; }
.grid-item { background: rgba(20, 20, 20, 0.9); border: 1px solid #333; height: 100px; display: flex; flex-direction: column; align-items: center; justify-content: center; border-radius: 16px; cursor: pointer; pointer-events: auto; position: relative; overflow: hidden; transition: all 0.2s ease; font-family: 'JetBrains Mono', monospace; font-size: 1rem; color: #888; font-weight: 700; }
.grid-item::before { content: ''; position: absolute; left: 0; top: 0; bottom: 0; width: 4px; background: #444; transition: 0.2s; }
.grid-item:hover { background: #111; border-color: var(--primary); color: white; transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.5); }
.grid-item:hover::before { background: var(--primary); box-shadow: 0 0 8px var(--primary); }
.grid-item:active { transform: scale(0.95); background: var(--primary); color: black; }

#grid-view, #truth-view, #slider-view, #bomb-view, #fire-view { justify-content: center !important; padding-top: 0 !important; gap: 20px; }
#grid-q, #slider-q, #truth-text, #bomb-q, #fire-q { font-size: 1.5rem; color: white; text-transform: uppercase; letter-spacing: 2px; margin-bottom: 20px; text-shadow: 0 0 10px rgba(255,255,255,0.3); text-align: center; width: 100%; }

input[type=range] { width: 90%; -webkit-appearance: none; appearance: none; background: transparent; margin: 30px 0; z-index: 4005; position: relative; cursor: pointer; }         
input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; height: 30px; width: 30px; border-radius: 50%; background: var(--primary); margin-top: -12px; cursor: pointer; box-shadow: 0 0 10px var(--primary); }

/* ==========================================
   üåå ARTE CONCEPTUAL: NODOS SIMBI√ìTICOS
   ========================================== */
#docks-layer { position: absolute; top: 0; left: 0; right: 0; bottom: 0; z-index: 80000 !important; pointer-events: none; }
.floating-dock { position: absolute; padding: 0; transform: translateX(-200%); transition: transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275); pointer-events: auto !important; }

#loot-dock   { top: 40%; left: 15px; } 
#casino-dock { top: 60%; left: 15px; } 
#fire-dock   { top: 80%; left: 15px; }
#vault-dock  { top: 40%; right: 15px; transform: translateX(200%); } 
#home-dock   { top: 60%; right: 15px; transform: translateX(200%); }
.dock-visible { transform: translateX(0) !important; }

.quantum-btn { width: 55px; height: 55px; position: relative; display: flex; align-items: center; justify-content: center; cursor: pointer !important; }
.quantum-ring { position: absolute; inset: -4px; border: 1px dashed; border-radius: 50%; opacity: 0.4; animation: spinRing 12s linear infinite; pointer-events: none; }
.quantum-fluid { position: absolute; inset: 0; background: rgba(10, 10, 12, 0.9); border: 2px solid; border-radius: 40% 60% 70% 30% / 40% 50% 60% 50%; animation: livingFluid 6s ease-in-out infinite alternate; transition: all 0.15s cubic-bezier(0.175, 0.885, 0.32, 1.275); backdrop-filter: blur(5px); }
.quantum-icon { position: relative; z-index: 2; font-size: 1.3rem; filter: drop-shadow(0 0 8px currentColor); transition: transform 0.2s; }
.quantum-btn:active .quantum-fluid { border-radius: 12px; transform: scale(0.85); filter: brightness(2); animation: none; }
.quantum-btn:active .quantum-icon { transform: scale(0.85); }

@keyframes livingFluid { 0% { border-radius: 40% 60% 70% 30% / 40% 50% 60% 50%; transform: rotate(0deg); } 50% { border-radius: 70% 30% 50% 50% / 30% 30% 70% 70%; } 100% { border-radius: 60% 40% 30% 70% / 50% 60% 40% 60%; transform: rotate(180deg); } }
@keyframes spinRing { 100% { transform: rotate(360deg); } }

.dock-loot .quantum-fluid { border-color: #9d00ff; box-shadow: inset 0 0 15px rgba(157,0,255,0.3), 0 0 20px rgba(157,0,255,0.4); } .dock-loot .quantum-ring { border-color: #d896ff; } .dock-loot .quantum-icon { color: #d896ff; }
.dock-casino .quantum-fluid { border-color: #ff0044; box-shadow: inset 0 0 15px rgba(255,0,68,0.3), 0 0 20px rgba(255,0,68,0.4); } .dock-casino .quantum-ring { border-color: #ff5588; } .dock-casino .quantum-icon { color: #ff5588; }
.dock-fire-active .quantum-fluid { border-color: #ff5500; box-shadow: inset 0 0 15px rgba(255,85,0,0.4), 0 0 25px rgba(255,85,0,0.6); } .dock-fire-active .quantum-ring { border-color: #ffaa00; animation: spinRing 4s linear infinite reverse; } .dock-fire-active .quantum-icon { color: #ffaa00; }
.dock-vault .quantum-fluid { border-color: #00ffff; box-shadow: inset 0 0 15px rgba(0,255,255,0.3), 0 0 20px rgba(0,255,255,0.4); } .dock-vault .quantum-ring { border-color: #88ffff; } .dock-vault .quantum-icon { color: #00ffff; }
.dock-home .quantum-fluid { border-color: #aaaaaa; box-shadow: inset 0 0 15px rgba(255,255,255,0.1), 0 0 15px rgba(255,255,255,0.2); } .dock-home .quantum-ring { border-color: #ffffff; } .dock-home .quantum-icon { color: #ffffff; }

/* --- V183: MASCOT SELECTOR CARDS --- */
.mascot-grid { display: flex; flex-direction: column; gap: 12px; width: 100%; margin-top: 20px; }
.m-card { display: flex; align-items: center; justify-content: space-between; width: 100%; padding: 15px 20px; background: linear-gradient(90deg, rgba(20,20,20,0.95) 0%, rgba(10,10,10,0.8) 100%); border: 1px solid #333; border-left-width: 4px; border-radius: 12px; cursor: pointer; position: relative; overflow: hidden; transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94); }
.m-card:active { transform: scale(0.96); filter: brightness(1.2); }
.m-icon-box { font-size: 2rem; width: 50px; display: flex; justify-content: center; filter: drop-shadow(0 0 8px currentColor); }
.m-info { flex: 1; padding-left: 15px; text-align: left; }
.m-name { font-size: 1.2rem; font-weight: 900; font-style: italic; color: white; line-height: 1; letter-spacing: 1px; }
.m-class { font-size: 0.6rem; font-family: 'JetBrains Mono', monospace; text-transform: uppercase; color: #666; letter-spacing: 2px; margin-top: 4px; }
.m-select-arrow { color: #333; font-size: 0.8rem; }

.mc-wolf { border-left-color: #00ffff; } .mc-wolf .m-icon-box { color: #00ffff; } .mc-wolf:hover { box-shadow: inset 0 0 20px rgba(0, 255, 255, 0.1); border-color: #00ffff; }
.mc-cat { border-left-color: #d896ff; } .mc-cat .m-icon-box { color: #d896ff; } .mc-cat:hover { box-shadow: inset 0 0 20px rgba(216, 150, 255, 0.1); border-color: #d896ff; }
.mc-owl { border-left-color: #D4AF37; } .mc-owl .m-icon-box { color: #D4AF37; } .mc-owl:hover { box-shadow: inset 0 0 20px rgba(212, 175, 55, 0.1); border-color: #D4AF37; }

/* --- V184: DANTE HOLOGRAM FX --- */
.dante-holo { filter: grayscale(100%) sepia(100%) hue-rotate(130deg) saturate(300%) drop-shadow(0 0 10px var(--accent)); opacity: 0.9; animation: holoGlitch 3.5s infinite; transition: all 0.1s; }
@keyframes holoGlitch { 0% { opacity: 0.9; transform: scale(1) translate(0,0); } 2% { opacity: 0.7; transform: scale(1.02) translate(-2px, 0); filter: grayscale(100%) sepia(100%) hue-rotate(300deg) saturate(500%) drop-shadow(0 0 5px red); } 4% { opacity: 0.9; transform: scale(1) translate(0,0); filter: grayscale(100%) sepia(100%) hue-rotate(130deg) saturate(300%) drop-shadow(0 0 10px var(--accent)); } 50% { opacity: 0.85; filter: drop-shadow(0 0 15px var(--accent)); } 52% { opacity: 0.4; transform: skewX(10deg); } 54% { opacity: 0.85; transform: skewX(0deg); } 100% { opacity: 0.9; } }

.modal-overlay { position: absolute; inset: 0; z-index: 90000; background: rgba(0,0,0,0.95); display: none; align-items: center; justify-content: center; pointer-events: auto !important; }
.modal-box { background: #0a0a0a; border: 1px solid #333; padding: 25px; border-radius: 20px; text-align: center; width: 90%; max-width: 350px; max-height: 90vh; overflow-y: auto; position: relative; pointer-events: auto; }
.modal-btn { background: white; color: black; font-weight: 900; padding: 15px; border-radius: 50px; width: 100%; text-transform: uppercase; margin-top: 15px; cursor: pointer; border: none; }
#mascot-speech { position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%) translateY(200px); width: 90%; background: #222; border: 1px solid var(--primary); border-radius: 15px; padding: 15px; display: flex; align-items: center; gap: 15px; transition: 0.3s; z-index: 3000; }
.speech-show { transform: translateX(-50%) translateY(0) !important; }
.speech-face { width: 50px; height: 50px; border-radius: 50%; border: 2px solid #555; background: black; object-fit: cover; }

.truth-card-styled { width: 100%; background: #1a1a1a; border: 2px solid #333; border-radius: 20px; padding: 30px 20px; text-align: center; margin-bottom: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
.truth-icon-large { font-size: 60px; color: #555; margin-bottom: 20px; }
.truth-text-large { font-size: 1.6rem; font-weight: 900; line-height: 1.2; text-transform: uppercase; }
.truth-actions { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; width: 100%; }
.t-btn-lg { padding: 25px 0; border-radius: 15px; font-weight: 900; font-size: 1.5rem; cursor: pointer; border: 2px solid rgba(255,255,255,0.1); display: flex; align-items: center; justify-content: center; gap: 10px; }
.t-btn-lg:active { transform: scale(0.95); }
.tb-no-lg { background: #440000; color: #ff5555; }
.tb-yes-lg { background: #004400; color: #55ff55; }

.rank-list-styled { display: flex; flex-direction: column; gap: 8px; width: 100%; margin-top: 15px; }
.rank-row-styled { display: grid; grid-template-columns: 30px 1fr auto; align-items: center; padding: 12px 15px; background: #151515; border-radius: 12px; border: 1px solid #333; }
.rank-pos-styled { font-weight: 900; color: #666; font-size: 14px; }
.rank-user-styled { text-align: left; font-weight: bold; font-size: 14px; color: #ddd; padding-left: 10px; }
.rank-money-styled { color: var(--terminal); font-family: monospace; font-weight: bold; font-size: 14px; text-align: right; }
.rank-1 { border: 1px solid #FFD700; background: linear-gradient(90deg, rgba(255, 215, 0, 0.15), transparent); }
.rank-1 .rank-pos-styled { color: #FFD700; text-shadow: 0 0 5px #FFD700; }
.rank-2 { border: 1px solid #C0C0C0; } .rank-2 .rank-pos-styled { color: #C0C0C0; }
.rank-3 { border: 1px solid #CD7F32; } .rank-3 .rank-pos-styled { color: #CD7F32; }
.rank-me { border: 2px solid var(--risk); background: rgba(255,0,68,0.1); }

.roulette-container { display: none; width: 100%; flex-direction: column; align-items: center; }

.casino-select-screen { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; width: 100%; }
.c-option-btn { background: #1a1a1a; border: 2px solid #333; padding: 20px; border-radius: 15px; cursor: pointer; transition: 0.2s; display: flex; flex-direction: column; align-items: center; text-align: center; }
.c-option-btn:hover { border-color: var(--accent); background: #222; }
.c-icon { font-size: 30px; margin-bottom: 10px; color: var(--primary); }
.c-title { font-weight: 900; color: white; text-transform: uppercase; font-size: 12px; }
.c-desc { font-size: 9px; color: #888; margin-top: 5px; }

.withdraw-section { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; margin-bottom: 20px; }
.w-btn { display: flex; flex-direction: column; align-items: center; justify-content: center; background: #111; border: 1px solid #333; border-radius: 10px; padding: 10px 5px; color: #888; font-size: 9px; font-weight: bold; cursor: pointer; }
.w-btn img { width: 32px; height: 32px; margin-bottom: 5px; object-fit: cover; border-radius: 50%; }
.w-btn:active { background: #222; border-color: var(--primary); color: white; }

.inventory-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; width: 100%; margin-top: 15px; }
.inv-item { background: #151515; border: 1px solid #333; border-radius: 12px; aspect-ratio: 1/1; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #555; font-size: 10px; font-weight: 900; }
.inv-active { border-color: var(--primary); color: var(--primary); background: rgba(212, 175, 55, 0.1); }
.inv-icon { font-size: 24px; margin-bottom: 5px; }

.tinder-card { width: 100%; aspect-ratio: 16/9; background: #222; border-radius: 15px; overflow: hidden; position: relative; margin-bottom: 15px; }
.tinder-img { width: 100%; height: 100%; object-fit: cover; }
.tinder-overlay { position: absolute; bottom: 0; width: 100%; background: rgba(0,0,0,0.5); padding: 10px; }
.tinder-controls { display: flex; gap: 15px; width: 100%; }
.tc-btn { flex: 1; padding: 15px; border-radius: 50px; font-weight: 900; border: 1px solid #333; background: #111; }

.chest-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; }
.loot-card { background: #151515; border: 1px solid #333; border-radius: 15px; padding: 15px; display: flex; flex-direction: column; align-items: center; position: relative; }
.weekly-slot { grid-column: span 2; }
.lc-img { width: 60px; height: 60px; object-fit: contain; margin-bottom: 10px; }

.scene { width: 80px; height: 80px; margin: 20px auto; perspective: 400px; }
.cube { width: 100%; height: 100%; position: relative; transform-style: preserve-3d; animation: rotate 5s infinite linear; }
.cube__face { position: absolute; width: 80px; height: 80px; border: 1px solid var(--primary); background: rgba(0,0,0,0.8); line-height: 80px; font-size: 20px; text-align: center; }
.cube__face--front  { transform: rotateY(  0deg) translateZ(40px); }
.cube__face--right  { transform: rotateY( 90deg) translateZ(40px); }
.cube__face--back   { transform: rotateY(180deg) translateZ(40px); }
.cube__face--left   { transform: rotateY(-90deg) translateZ(40px); }
.cube__face--top    { transform: rotateX( 90deg) translateZ(40px); }
.cube__face--bottom { transform: rotateX(-90deg) translateZ(40px); }
@keyframes rotate { from { transform: rotateY(0deg); } to { transform: rotateY(360deg); } }

/* REGISTRATION FORM STYLES */
.reg-input { width: 100%; padding: 12px; margin-bottom: 10px; background: #222; border: 1px solid #444; border-radius: 8px; color: white; font-family: 'JetBrains Mono'; }
.reg-input:focus { border-color: var(--primary); outline: none; }
.reg-btn { background: var(--primary); color: black; font-weight: 900; padding: 15px; width: 100%; border-radius: 8px; cursor: pointer; text-transform: uppercase; margin-top: 10px; }

/* --- RELOJ NUCLEAR --- */
.nuclear-clock {
    font-family: 'Courier New', monospace;
    font-size: 4rem;
    font-weight: 900;
    color: #ff0000;
    text-shadow: 0 0 10px #ff0000, 0 0 30px #ff4400;
    letter-spacing: 2px;
    margin-bottom: 10px;
    animation: pulseAlert 0.5s infinite alternate;
}

@keyframes pulseAlert {
    from { text-shadow: 0 0 10px #ff0000; opacity: 1; }
    to { text-shadow: 0 0 25px #ff0000, 0 0 50px #ffaa00; opacity: 0.9; }
}

/* --- V166: FLIP CARD CASINO FIX --- */
.flip-card {
    background-color: transparent;
    width: 150px;
    height: 220px;
    perspective: 1000px;
    margin: 20px auto;
}
.flip-card-inner {
    position: relative;
    width: 100%;
    height: 100%;
    text-align: center;
    transition: transform 0.8s;
    transform-style: preserve-3d;
}
.flip-card.do-flip .flip-card-inner {
    transform: rotateY(180deg);
}
.flip-card-front, .flip-card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    border-radius: 15px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
    font-weight: 900;
    border: 4px solid #fff;
    box-shadow: 0 0 20px rgba(0,0,0,0.5);
}
.flip-card-front {
    background: linear-gradient(135deg, #111, #333);
    color: var(--primary);
}
.flip-card-back {
    transform: rotateY(180deg);
    color: white;
    text-shadow: 0 2px 4px rgba(0,0,0,0.5);
}

/* V173 EXTRA STYLE FOR FIRE TRIAL */
#fire-trial-modal { z-index: 90000; }
.fire-trial-overlay { position: absolute; inset:0; background: rgba(50, 0, 0, 0.95); display: flex; flex-direction: column; align-items: center; justify-content: center; }
.ft-question-box { font-size: 1.8rem; font-weight: 900; color: white; text-align: center; margin: 20px 0; text-transform: uppercase; text-shadow: 0 0 10px orange; }

/* --- CAMBIO 2: HEX-CHIP (V190) --- */
.hex-chip-wrapper {
    width: 35px; height: 40px;
    background: #111;
    clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
    display: flex; justify-content: center; align-items: center;
    border: 1px solid var(--primary);
    box-shadow: 0 0 10px rgba(255, 215, 0, 0.4);
    animation: float 3s ease-in-out infinite;
}
.hex-chip-wrapper span { color: var(--primary); font-weight: 900; font-size: 20px; }

/* --- MOTOR VISUAL: EFECTOS CON POINTER-EVENTS: NONE --- */
#global-scanline {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: linear-gradient( rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.08) 50% ), 
    linear-gradient(90deg, rgba(255, 0, 0, 0.01), rgba(0, 255, 0, 0.005), rgba(0, 0, 255, 0.01) );
    background-size: 100% 3px, 3px 100%;
    pointer-events: none !important;
    z-index: 5000; opacity: 0.5;
}

.hacker-bar {
    position: fixed; width: 100%; height: 5px;
    background: rgba(0, 255, 255, 0.03); box-shadow: 0 0 15px rgba(0, 255, 255, 0.1);
    top: -10px; z-index: 5001; pointer-events: none !important;
    animation: globalScan 10s linear infinite;
}

@keyframes globalScan { 0% { top: -5%; opacity: 0; } 5% { opacity: 1; } 95% { opacity: 1; } 100% { top: 105%; opacity: 0; } }

#city-core { filter: drop-shadow(0 0 15px var(--accent)); transition: all 1s ease; }
.core-rotate-slow { animation: rotateSlow 25s linear infinite; transform-origin: center; }
.core-rotate-fast { animation: rotateFast 12s linear infinite reverse; transform-origin: center; }
.core-pulse { animation: corePulse 4s ease-in-out infinite; transform-origin: center; }

@keyframes rotateSlow { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
@keyframes rotateFast { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
@keyframes corePulse { 0%, 100% { opacity: 0.2; transform: scale(1); stroke-width: 2px; } 50% { opacity: 0.8; transform: scale(1.05); stroke-width: 4px; } }

/* ‚ö° FLUJO DE DATOS (L√°ser Cu√°ntico de Alta Velocidad) ‚ö° */
.path-line {
    stroke-dasharray: 40 200;
    stroke-dashoffset: 1000;
    stroke-linecap: round;
    transition: stroke 0.8s, stroke-width 0.8s, filter 0.8s;
}

.path-active {
    stroke: var(--accent);
    stroke-width: 4px;
    filter: drop-shadow(0 0 10px var(--accent));
    animation: dataLaser 1s linear infinite;
}

.path-locked {
    stroke: #111;
    stroke-width: 2px;
    stroke-dasharray: 4 6;
    stroke-dashoffset: 0;
    filter: none;
}

@keyframes dataLaser { to { stroke-dashoffset: 760; } }

.nuclear-aura {
    border: 1px solid #a200ff !important;
    animation: nuclearPulse 4s infinite alternate ease-in-out;
    pointer-events: auto;
}

@keyframes nuclearPulse {
    0% { box-shadow: inset 0 0 10px rgba(162, 0, 255, 0.1), 0 0 20px rgba(162, 0, 255, 0.2); }
    100% { box-shadow: inset 0 0 40px rgba(162, 0, 255, 0.5), 0 0 60px rgba(162, 0, 255, 0.6); }
}
@keyframes realityBreak {
0% { clip-path: inset(10% 0 30% 0); transform: translate(-5px, -5px); filter: hue-rotate(90deg) brightness(2); }
2% { clip-path: inset(40% 0 10% 0); transform: translate(5px, 5px); filter: none; }
4% { clip-path: inset(10% 0 30% 0); transform: translate(-5px, -5px); filter: hue-rotate(180deg) invert(1); }
6% { clip-path: inset(80% 0 5% 0); transform: translate(5px, -5px); filter: none; }
100% { clip-path: inset(0 0 0 0); transform: translate(0,0); filter: none; }
}
.rupture-active { animation: realityBreak 0.4s ease-out; }

/* ==========================================
   üåÄ ARTEFACTOS DE PODER (V√ìRTICE & MONOLITO)
   ========================================== */

/* 1. EL V√ìRTICE DE DATOS (REACTOR ACTIVO) */
.vortex-portal {
    position: relative; width: 160px; height: 160px;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    filter: drop-shadow(0 0 20px rgba(0, 255, 204, 0.3));
}

.vortex-ring {
    position: absolute; border-radius: 50%;
    border: 2px solid transparent;
    border-top-color: var(--accent);
}

.ring-1 { inset: 0; animation: spin 3s linear infinite; opacity: 0.3; }
.ring-2 { inset: 20px; border-top-color: #fff; border-left-color: var(--accent); animation: spin 5s linear infinite reverse; opacity: 0.6; }
.ring-3 { inset: 40px; border-top-color: var(--primary); animation: spin 1.5s ease-in-out infinite; }

.vortex-core {
    width: 50px; height: 50px; background: #000;
    border: 2px solid var(--primary); border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    box-shadow: 0 0 30px var(--primary), inset 0 0 15px var(--primary);
    z-index: 10; animation: pulseCore 2s infinite;
}

.vortex-label {
    position: absolute; bottom: -45px; font-family: 'JetBrains Mono', monospace;
    font-size: 10px; color: var(--accent); letter-spacing: 4px;
    text-shadow: 0 0 10px var(--accent); font-weight: 900;
}

/* 2. EL SINCRONIZADOR (MONOLITO IMPONENTE) */
.crystal-monolith {
    position: relative; width: 120px; height: 180px;
    display: flex; flex-direction: column; align-items: center;
    cursor: pointer; transition: all 0.4s ease; margin-top: 20px;
}

.monolith-body {
    width: 75px; height: 140px;
    background: linear-gradient(135deg, rgba(0,255,255,0.1), rgba(212,175,55,0.05));
    border: 2px solid var(--accent);
    clip-path: polygon(20% 0%, 80% 0%, 100% 20%, 100% 80%, 80% 100%, 20% 100%, 0% 80%, 0% 20%);
    backdrop-filter: blur(10px);
    position: relative; overflow: hidden;
    display: flex; justify-content: center; align-items: center;
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.2);
}

.glif-container {
    display: flex; flex-direction: column; gap: 10px;
    animation: glifFloat 3s infinite ease-in-out;
}

.glif {
    font-family: 'JetBrains Mono', monospace;
    font-size: 1.2rem; font-weight: 900;
    color: #fff; text-shadow: 0 0 10px var(--accent);
}

.monolith-scan {
    position: absolute; top: -100%; left: 0; width: 100%; height: 50%;
    background: linear-gradient(to bottom, transparent, var(--accent), transparent);
    opacity: 0.4; animation: scanning 2s linear infinite;
}

.monolith-base {
    width: 90px; height: 12px; background: #000;
    border: 1px solid var(--accent); margin-top: 5px;
    box-shadow: 0 0 15px var(--accent);
}

.monolith-label {
    position: absolute; bottom: -45px; font-family: 'JetBrains Mono', monospace;
    font-size: 10px; color: var(--accent); letter-spacing: 2px;
    text-shadow: 0 0 8px var(--accent); font-weight: 900; width: 220px; text-align: center;
}

/* ==========================================
   ‚ö° RESONANCIA Y PORTAL (PASOS 4, 5 Y 6)
   ========================================== */

/* Ajuste del Selector del Casino */
#casino-selector {
    display: flex; flex-direction: column; align-items: center;
    gap: 70px !important; min-height: 480px; padding-top: 20px;
}

/* EFECTO DE FLOTACI√ìN (Para ambos) */
.vortex-portal, .crystal-monolith {
    animation: artifactFloat 4s ease-in-out infinite;
}

@keyframes artifactFloat {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-15px); }
}

/* ESTADOS DE RIQUEZA (Resonancia) */
[data-wealth="gold"] .vortex-ring { border-top-color: var(--primary) !important; animation-duration: 0.8s !important; }
[data-wealth="gold"] .vortex-core { box-shadow: 0 0 50px var(--primary); transform: scale(1.2); }
[data-wealth="critical"] .monolith-body { border-color: var(--risk) !important; box-shadow: 0 0 30px var(--risk); }
[data-wealth="critical"] .glif { color: var(--risk) !important; text-shadow: 0 0 15px var(--risk); }

/* C√ÅMARA DEL VAC√çO (Portal de Juego) */
#game-portal-layer {
    background: radial-gradient(circle at center, #050505 0%, #000 100%);
    box-shadow: inset 0 0 100px rgba(0, 255, 204, 0.1);
}
#game-portal-layer.flex-show {
    display: flex !important;
    animation: portalIn 0.6s cubic-bezier(0.23, 1, 0.32, 1) forwards;
}

@keyframes portalIn {
    from { opacity: 0; transform: scale(1.3); filter: blur(20px); }
    to { opacity: 1; transform: scale(1); filter: blur(0); }
}

/* Animaciones Auxiliares */
@keyframes pulseCore { 0%, 100% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.1); opacity: 0.8; } }
@keyframes scanning { 0% { top: -100%; } 100% { top: 200%; } }
@keyframes glifFloat { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }
@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }