<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>GoVotto | V201 FINAL FIXED</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700;900&family=JetBrains+Mono:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

  <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="global-scanline" style="pointer-events: none;"></div>
    <div class="hacker-bar" style="pointer-events: none;"></div>

    <div id="app-frame"> 
        <div id="boot-screen">
            <div style="font-size: 3rem; font-weight: 900; font-style: italic;">GO<span style="color:var(--primary);">VOTTO</span></div>
            <div style="width: 200px; height: 4px; background: #333; margin-top: 20px; border-radius:2px;"><div id="energy-fill" style="width: 0%; height: 100%; background: var(--primary);"></div></div>
            <div style="margin-top: 15px; font-size: 10px; color: #666; font-family: monospace; letter-spacing: 2px;">V201 FINAL</div>
            <button id="boot-btn" class="modal-btn hidden" style="width: 200px; margin-top: 30px;" onclick="startApp()">INICIAR</button>
        </div>

        <div id="intro-layer" class="hidden">
            <div class="intro-logo-box">
                <div class="intro-title">GO<span>VOTTO</span></div>
                <div class="intro-sub">ESTATUS: EXCELENCIA</div>
            </div>
            <div class="loader-bar-box">
                <div id="cinema-fill" class="loader-fill"></div>
            </div>
        </div>

        <div class="hud-header">
            <div class="hud-controls z-50 relative">
                <div class="rank-btn" onclick="openRanking()"><i class="fas fa-trophy"></i></div>
                <div class="flash-btn" onclick="checkEvent()"><i class="fas fa-bolt"></i> EVENTO</div>
            </div>
            <div class="brand-logo absolute left-1/2 -translate-x-1/2">GO<span>VOTTO</span></div>
            <div class="flex items-center gap-2 z-50 relative">
                <div class="text-[9px] text-right leading-tight">
                    <div class="text-zinc-500 font-bold uppercase tracking-tighter">SALDO COP</div>
                    <div class="font-bold text-white font-mono text-sm" id="hud-money">$0</div>
                </div>
                <div class="hex-chip-wrapper"><span>G</span></div>
            </div>
        </div>
        
        <div class="ticker-wrap"><div class="ticker"><div class="ticker-item">1 COIN = <span>1 PESO</span></div><div class="ticker-item">META FINAL: <span>$45.000 COP</span></div><div class="ticker-item">üëó LAURA GAN√ì <span>BONO ZARA</span></div><div class="ticker-item">üíé B√ìVEDA <span>ACTIVA</span></div></div></div>

<div class="content-area" id="content-area">            <div id="map-view" class="map-layer flex-show">
                <div id="city-motor-container" class="absolute left-1/2 top-[280px] -translate-x-1/2 -z-10 opacity-30 pointer-events-auto cursor-pointer flex flex-col items-center" onclick="window.location.href='dante.html'">
                    <svg id="city-core" width="220" height="220" viewBox="0 0 200 200" style="fill: none; stroke-width: 2;">
                        <circle class="core-static" cx="100" cy="100" r="15" stroke="var(--accent)" />
                        <path class="core-rotate-slow" d="M100,20 L100,180 M20,100 L180,100" stroke="var(--accent)" />
                        <rect class="core-rotate-fast" x="60" y="60" width="80" height="80" transform="rotate(45 100 100)" stroke="var(--accent)" />
                        <path class="core-pulse" d="M100,20 L180,100 L100,180 L20,100 Z" stroke="var(--accent)" />
                    </svg>
                    <p class="text-[7px] text-zinc-500 tracking-[0.6em] mt-4 font-bold uppercase">Reactor_Central</p>
                </div>

                <div class="w-full px-6 text-left mb-6 border-l-4 ml-6" id="map-border">
                    <div class="text-2xl font-black italic" id="map-title">RUTA 1</div>
                    <div class="text-xs text-zinc-500 tracking-widest" id="map-sub">DIAGN√ìSTICO</div>
                </div>

            <div class="relative w-full flex flex-col items-center">
                    <svg id="path-svg-layer" class="absolute top-0 left-0 w-full h-[2000px] pointer-events-none" style="z-index: 1;">
                        <line id="path-0" class="path-line path-locked" x1="50%" y1="75" x2="calc(50% + 55px)" y2="175" />
                        
                        <line id="path-1" class="path-line path-locked" x1="calc(50% + 55px)" y1="175" x2="50%" y2="275" />
                        
                        <line id="path-2" class="path-line path-locked" x1="50%" y1="275" x2="calc(50% - 55px)" y2="375" />
                        
                        <line id="path-3" class="path-line path-locked" x1="calc(50% - 55px)" y1="375" x2="50%" y2="475" />
                        
                        <line id="path-4" class="path-line path-locked" x1="50%" y1="475" x2="calc(50% + 55px)" y2="575" />

                        <line id="path-5" class="path-line path-locked" x1="calc(50% + 55px)" y1="575" x2="50%" y2="675" />
                    </svg>
                    <div id="nodes-container" class="w-full flex flex-col items-center pb-32" style="z-index: 10;"></div>
                </div>

            <div id="ab-view" class="battle-overlay hidden">
               <div class="ab-container" id="ab-cont">
                    <div id="opt-a" class="option-panel" style="z-index: 50; pointer-events: auto;" onclick="handleOption(this)">
                        <img id="img-a" src="" class="option-img">
                        <div class="option-overlay"><div class="option-title" id="txt-a">A</div></div>
                    </div>
                    <div class="vs-badge">VS</div>
                    <div id="opt-b" class="option-panel" style="z-index: 50; pointer-events: auto;" onclick="handleOption(this)">
                        <img id="img-b" src="" class="option-img">
                        <div class="option-overlay"><div class="option-title" id="txt-b">B</div></div>
                    </div>
                </div>
            </div>
            
            <div id="bomb-view" class="battle-overlay hidden">
                <div class="bomb-icon"><i class="fas fa-bomb"></i></div>
                <div class="bomb-timer-box"><div id="bomb-timer" class="bomb-fill"></div></div>
                <h2 id="bomb-q">PREGUNTA RAPIDA</h2>
                <div class="grid-box" id="bomb-answers"></div>
            </div>

            <div id="fire-view" class="battle-overlay hidden">
                <div id="fire-result" class="fire-msg-overlay"></div>
                <h2 id="fire-q" style="margin-top: 20px; position:relative; z-index:10;">LA PREGUNTA</h2>
                <div id="fire-stage" class="fire-stage"><div class="flame-core"></div></div>
                <p class="text-xs text-zinc-500 mb-8 tracking-widest" style="position:relative; z-index:10;">EL FUEGO JUZGAR√Å TU ALMA</p>
                <div class="truth-actions" id="fire-btns">
                    <div class="t-btn-lg" style="border-color:#555; background:#111;" onclick="handleFireAnswer(false)">NO</div>
                    <div class="t-btn-lg" style="border-color:#ff5500; background:#330000; color:#ffaa00;" onclick="handleFireAnswer(true)">S√ç</div>
                </div>
            </div>

            <div id="slider-view" class="battle-overlay hidden">
                <h2 id="slider-q">VALORACI√ìN</h2>
                <div class="mech-container" style="display:flex; flex-direction:column; align-items:center; width:100%;">
                    <div class="text-4xl font-mono text-primary mb-4" id="slider-val-disp">0</div>
                    <input type="range" id="slider-inp" oninput="updateSlider(this.value)">
                </div>
                <button onclick="endBattle()" class="modal-btn w-3/4">CONFIRMAR</button>
            </div>

            <div id="grid-view" class="battle-overlay hidden">
                <h2 id="grid-q">SELECCI√ìN</h2>
                <div class="grid-box" id="grid-box"></div>
            </div>
                
            <div id="truth-view" class="battle-overlay hidden">
                <div class="truth-card-styled">
                    <i class="fas fa-question truth-icon-large" id="truth-icon"></i>
                    <div class="truth-text-large" id="truth-text">?</div>
                </div>
                <div class="truth-actions">
                    <div class="t-btn-lg tb-no-lg" onclick="handleTruth()"><i class="fas fa-times"></i> NO</div>
                    <div class="t-btn-lg tb-yes-lg" onclick="handleTruth()"><i class="fas fa-check"></i> S√ç</div>
                </div>
            </div>
        </div> 

        <div id="mascot-speech">
            <img id="speech-img" class="speech-face" src="">
            <div>
                <div class="text-[10px] font-black text-primary" id="speech-title">COMANDO</div>
                <div class="text-xs leading-tight" id="speech-txt">...</div>
            </div>
        </div>

        <div id="intro-modal" class="modal-overlay hidden">
            <div class="modal-box">
                <img src="dante.png" class="w-48 h-48 object-contain mx-auto mb-4 dante-holo" onerror="this.src='https://cdn-icons-png.flaticon.com/512/616/616554.png'">
                <h2 class="text-xl font-black text-white">HOLA, SOY DANTE</h2>
                <p class="text-sm text-zinc-400 mt-2">"Te guiar√© por el mercado. Si tardas, te presionar√©. ¬øListo?"</p>
                <button onclick="startMap()" class="modal-btn">ACEPTAR DESAF√çO</button>
            </div>
        </div>

        <div id="mascot-modal" class="modal-overlay hidden">
            <div class="modal-box" style="border: 1px solid #333; background: #050505;">
                <h2 class="text-xl font-black text-white italic">SELECCIONA AGENTE</h2>
                <p class="text-xs text-zinc-500 mb-4 tracking-widest">VINCULANDO IA...</p>
                <div class="mascot-grid">
                    <div class="m-card mc-wolf" onclick="selectMascot('wolf')">
                        <div class="m-icon-box"><i class="fas fa-dog"></i></div>
                        <div class="m-info"><div class="m-name">LOBITO</div><div class="m-class">RASTREADOR</div></div>
                        <i class="fas fa-chevron-right m-select-arrow"></i>
                    </div>
                    <div class="m-card mc-cat" onclick="selectMascot('cat')">
                        <div class="m-icon-box"><i class="fas fa-cat"></i></div>
                        <div class="m-info"><div class="m-name">KIRA</div><div class="m-class">INFILTRADO</div></div>
                        <i class="fas fa-chevron-right m-select-arrow"></i>
                    </div>
                    <div class="m-card mc-owl" onclick="selectMascot('owl')">
                        <div class="m-icon-box"><i class="fas fa-crow"></i></div>
                        <div class="m-info"><div class="m-name">ORION</div><div class="m-class">ESTRATEGA</div></div>
                        <i class="fas fa-chevron-right m-select-arrow"></i>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="avatar-confirm-modal" class="modal-overlay hidden">
            <div class="modal-box"><div class="mascot-portrait" style="width:120px; height:120px; margin:0 auto; border:4px solid var(--primary);"><i id="confirm-avatar-icon" class="fas fa-dog holo-icon" style="font-size:60px;"></i></div><h2 class="text-2xl font-black text-primary italic mb-4" id="confirm-avatar-title" style="margin-top:20px;">¬°HOLA!</h2><p class="text-xl text-white font-black leading-tight uppercase" id="confirm-avatar-msg">Soy... y te acompa√±ar√©...</p><button onclick="finalizeAvatarSelection()" class="modal-btn mt-8 bg-primary text-black font-black text-lg">¬°VAMOS!</button></div>
        </div>
        
        <div id="ranking-modal" class="modal-overlay hidden">
            <div class="modal-box border border-primary relative" style="max-width:340px;">
                <h2 class="text-xl font-black text-white mb-2">üèÜ CLASIFICACI√ìN</h2>
                <p class="text-xs text-zinc-500 mb-6">LOS MEJORES DEL D√çA</p>
                <div id="ranking-list" class="rank-list-styled mb-6"></div>
                <button onclick="closeRanking()" class="w-full py-4 bg-zinc-800 border border-zinc-600 rounded-xl text-white font-black hover:bg-zinc-700 active:scale-95 transition-all">
                    CERRAR TABLA
                </button>
            </div>
        </div>

        <div id="slots-modal" class="modal-overlay hidden">
            <div class="modal-box border border-accent relative" style="max-width:340px;">
                <button onclick="closeSlots()" class="absolute top-4 right-4 text-zinc-500 hover:text-white">
                    <i class="fas fa-times text-xl"></i>
                </button>
                <h2 class="text-xl font-black text-accent italic mb-4">CASINO</h2>
                <div id="casino-selector" class="casino-select-screen">
                    <div class="c-option-btn" onclick="startSlotGame()">
                        <i class="fas fa-gem c-icon"></i>
                        <div class="c-title">TRAGAMONEDAS</div>
                        <div class="c-desc">Versi√≥n V238</div>
                    </div>
                    <div class="c-option-btn" onclick="startTurbineGame()">
                        <i class="fas fa-fan c-icon" style="color:var(--accent)"></i>
                        <div class="c-title">TURBINA</div>
                        <div class="c-desc">Alto Rendimiento</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="accessory-modal" class="modal-overlay hidden"><div class="modal-box"><h2 class="text-xl font-black text-white">¬°CAJA FASHION!</h2><button onclick="equipAccessory()" class="modal-btn">ABRIR</button></div></div>
        <div id="casino-modal" class="modal-overlay hidden"><div class="modal-box"><h2>DOBLE O NADA</h2><button onclick="playDouble('red')" class="modal-btn" style="background:red; color:white;">ROJO</button><button onclick="playDouble('black')" class="modal-btn" style="background:black; color:white;">NEGRO</button></div></div>
        
        <div id="vault-modal" class="modal-overlay hidden"><div class="modal-box"><h2 class="text-xl font-black text-white">B√ìVEDA</h2><button onclick="openVaultLogic()" class="modal-btn">ABRIR</button><div id="vault-content" class="hidden"><div id="final-cop"></div><button onclick="sealVault()" class="modal-btn">CERRAR</button></div></div></div>
        <div id="coming-soon-modal" class="modal-overlay hidden"><div class="modal-box"><h2 class="text-xl font-black text-white">PR√ìXIMAMENTE</h2><button onclick="closeComingSoon()" class="modal-btn">CERRAR</button></div></div>
        <div id="home-profile-modal" class="modal-overlay hidden"><div class="modal-box"><h2 class="text-xl font-black text-white">PERFIL</h2><div id="wallet-cop"></div><button onclick="closeHomeProfile()" class="modal-btn">CERRAR</button></div></div>
        <div id="custom-alert" class="modal-overlay hidden" style="z-index: 900000;"><div class="modal-box"><h2 id="alert-title" class="text-xl font-black text-primary">AVISO</h2><p id="alert-msg" class="text-white text-sm"></p><button onclick="closeCustomAlert()" class="modal-btn">OK</button></div></div>

       <div id="docks-layer">
            
            <div id="loot-dock" class="floating-dock">
    <div class="quantum-btn dock-loot" onclick="openLoot()">
        <div class="quantum-ring"></div>
        <div class="quantum-fluid"></div>
        <i class="fas fa-gem quantum-icon"></i>
    </div>
</div>

            <div id="casino-dock" class="floating-dock">
                <div class="quantum-btn dock-casino" onclick="openCasinoMenu()">
                    <div class="quantum-ring"></div>
                    <div class="quantum-fluid"></div>
                    <i class="fas fa-dice quantum-icon"></i>
                </div>
            </div>

            <div id="fire-dock" class="floating-dock">
                <div id="fire-btn-inner" class="quantum-btn dock-fire-active" onclick="checkFireTrial()">
                    <div class="quantum-ring"></div>
                    <div class="quantum-fluid"></div>
                    <i class="fas fa-fire quantum-icon"></i>
                </div>
            </div>

            <div id="vault-dock" class="floating-dock">
                <div class="quantum-btn dock-vault" onclick="showVaultModal()">
                    <div class="quantum-ring"></div>
                    <div class="quantum-fluid"></div>
                    <i class="fas fa-vault quantum-icon"></i>
                </div>
            </div>

            <div id="home-dock" class="floating-dock">
                <div class="quantum-btn dock-home" onclick="window.location.href='dante.html'" title="Ver N√∫cleo Dante">
                    <div class="quantum-ring"></div>
                    <div class="quantum-fluid"></div>
                    <i class="fas fa-house-user quantum-icon"></i>
                </div>
            </div>

        </div>


    <div id="turbine-layer" class="hidden" style="position: fixed; inset: 0; width: 100vw; height: 100dvh; background: #000; z-index: 999995 !important; display: flex; flex-direction: column;">
    <iframe id="turbine-frame" style="width: 100%; height: 100%; border: none; flex: 1; background: transparent;"></iframe>
    <button onclick="forceCloseTurbine()" style="position: absolute; top: 20px; right: 20px; width: 50px; height: 50px; background: rgba(0,0,0,0.8); border: 2px solid #333; color: white; border-radius: 50%; font-size: 24px; cursor: pointer; display: flex; align-items: center; justify-content: center; z-index: 999999;">
        <i class="fas fa-times"></i>
    </button>
</div>

<div id="loot-layer" class="hidden" style="position: absolute; inset: 0; width: 100%; height: 100%; background: #000; z-index: 999999 !important; display: flex; flex-direction: column;">
    <iframe id="loot-frame" src="about:blank" style="width: 100%; height: 100%; border: none; flex: 1; background: #000;"></iframe>
</div>


    <div id="event-layer" class="hidden" style="position: fixed; inset: 0; width: 100vw; height: 100dvh; background: #000; z-index: 999997 !important; display: flex; flex-direction: column;">
        <iframe id="event-frame" style="width: 100%; height: 100%; border: none; flex: 1; background: #000;"></iframe>
        <button onclick="forceCloseEvent()" style="position: absolute; top: 20px; right: 20px; width: 50px; height: 50px; background: rgba(0,0,0,0.8); border: 2px solid #333; color: white; border-radius: 50%; font-size: 24px; cursor: pointer; display: flex; align-items: center; justify-content: center; z-index: 999999;">
            <i class="fas fa-times"></i>
        </button>
    </div>

    <script src="data.js"></script> 
    <script src="engine.js"></script> 
</body>
</html>